## outb

outb语法

```c
void outb(uint16_t port, uint8_t value);
```

- port：目标 I/O 端口（0x0000 ~ 0xFFFF）。
- value：要写入端口的 8 位数据（0x00 ~ 0xFF）。

只能在 内核模式 下使用，用户态程序不能直接访问 I/O 端口（需要 inb / outb 权限）。

outb() 可以写入的端口：

1.	PIC（中断控制器）：0x20, 0x21, 0xA0, 0xA1
2.	PIT（定时器）：0x40, 0x41, 0x42, 0x43
3.	键盘控制器（8042）：0x60, 0x64
4.	CMOS / RTC（时钟）：0x70, 0x71
5.	VGA 文本模式：0x3D4, 0x3D5
6.	串口（COM）：0x3F8, 0x2F8
7.	PCI 配置空间：0xCF8, 0xCFC

| 端口地址	| 设备名称	| 作用描述 |
|--|--|--|
| 0x20	| 主 PIC（8259）命令端口| 	发送 PIC 命令 |
| 0x21	| 主 PIC（8259）数据端口| 	设置主 PIC 的中断屏蔽位（IMR） |
| 0xA0	| 从 PIC（8259）命令端口	| 发送从 PIC 命令 |
| 0xA1	| 从 PIC（8259）数据端口| 	设置从 PIC 的中断屏蔽位（IMR） |
| 0x40	| 可编程定时器（PIT）通道 0	| 设置系统时钟（IRQ 0） |
| 0x41	| 可编程定时器（PIT）通道 1	| 一般不用 |
| 0x42	| 可编程定时器（PIT）通道 2	| 控制 PC 扬声器 |
| 0x43	| 可编程定时器（PIT）控制字寄存器	| 设定定时器模式 |
| 0x60	| 键盘数据端口	| 读取键盘输入 / 控制键盘 LED |
| 0x64	| 键盘控制端口	| 发送键盘控制命令 |
| 0x70	| CMOS / RTC 地址寄存器	| 选择 CMOS 读取的偏移地址 |
| 0x71	| CMOS / RTC 数据寄存器	| 读取 CMOS 数据（如时间） |
| 0x3D4| 	VGA 索引端口	| 选择 VGA 寄存器 |
| 0x3D5| 	VGA 数据端口	| 读写 VGA 寄存器数据 |
| 0x3F8| 	串口 COM1 数据端口	| 发送/接收串口数据 |
| 0x2F8| 	串口 COM2 数据端口	| 发送/接收串口数据 |
| 0xCF8| 	PCI 配置地址端口	| 指定 PCI 配置寄存器地址|  |
| 0xCFC| 	PCI 配置数据端口	| 读写 PCI 配置寄存器数据| 

## inb

| 端口地址	| 设备名称| 	作用描述 |
|--|--|--|
| 0x20	| 主 PIC（8259）命令端口	| 读取 PIC 状态 |
| 0x21	| 主 PIC（8259）数据端口	| 读取主 PIC 的中断屏蔽寄存器（IMR） |
| 0xA0	| 从 PIC（8259）命令端口	| 读取从 PIC 状态 |
| 0xA1	| 从 PIC（8259）数据端口	| 读取从 PIC 的中断屏蔽寄存器（IMR） |
| 0x40	| 可编程定时器（PIT）通道 0	| 读取计数值 |
| 0x41	| 可编程定时器（PIT）通道 1	| 一般不用 |
| 0x42	| 可编程定时器（PIT）通道 2	| 读取扬声器控制值 |
| 0x60	| 键盘数据端口	| 读取键盘输入 |
| 0x64	| 键盘控制端口	| 读取键盘控制器状态 |
| 0x70	| CMOS / RTC 地址寄存器	| 选择 CMOS 读取的偏移地址 |
| 0x71	| CMOS / RTC 数据寄存器	| 读取 CMOS 数据（如时间） |
| 0x3D4| 	VGA 索引端口	| 选择 VGA 寄存器 |
| 0x3D5| 	VGA 数据端口	| 读取 VGA 寄存器数据 |
| 0x3F8| 	串口 COM1 数据端口	| 读取串口输入 |
| 0x2F8| 	串口 COM2 数据端口	| 读取串口输入 |
| 0xCF8| 	PCI 配置地址端口	| 指定 PCI 配置寄存器地址|  |
| 0xCFC| 	PCI 配置数据端口	| 读取 PCI 配置寄存器数据| 