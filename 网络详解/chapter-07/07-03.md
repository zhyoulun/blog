# iptables table

## mangle

- 这个表主要用来进行报文修改，可以自由修改报文的TOS之类的
- 注意：在这个表里边，千万不要做过滤/NAT/伪装这类事情

## nat

- 这个表只能用来完成NAT功能，换句话说，它只能用来完成源/目的 地址的转换。
- 注意：只有第一个报文会经过这个表，这个连接的其他报文会自动完成转换。

这个表的target有：

- DNAT：
- SNAT：
- MASQUERADE：
- REDIRECT：

## raw

RAW表的一个主要用途是，对报文设置一个标志，让这个报文不被连接跟踪系统所跟踪。

我们通过NOTRACK target实现这个功能。

不增加一个表无法解决问题，因为其他表都是在连接跟踪处理完之后再处理报文。

这个表只有PREROUTING和OUTPUT两个链，只是因为这两个地方是他们hit连接跟踪的唯一地方。

## filter

这个表主要用来过滤报文，我们可以在任何时候匹配包并过滤他们。我们就是在这里根据包的内容对包进行DROP或者ACCEPT的。

当然我们也可以在别的地方做过滤，但这个表才是设计用来做过滤的。

几乎所有的target都可以在这里使用。

