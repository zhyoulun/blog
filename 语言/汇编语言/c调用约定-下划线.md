### 2. **与下划线相关的调用约定**

不同的编译器和平台可能会对函数名称做一些修改，尤其是涉及到调用约定时。通常，下划线与函数名有关，通常会用来区分函数的类型或调用约定。

#### 2.1 **Windows 下的函数名前缀（下划线）**

- 在 **MSVC**（Microsoft Visual C++）编译器中，遵循 `cdecl` 调用约定的函数通常会在函数名之前自动添加一个下划线 (`_`)。
- 例如，`add` 函数在 MSVC 编译器中可能会被称为 `_add`。但这并不适用于所有平台，特别是 GCC 编译器，它通常不使用下划线。

```c
// MSVC 中
int _add(int a, int b);  // 自动添加前缀 _

// GCC 中
int add(int a, int b);  // 没有下划线
```

#### 2.2 __stdcall 和下划线

在 Windows 平台上使用 __stdcall 调用约定时，编译器会自动在函数名后添加一个下划线。

```
// Windows 下使用 stdcall 调用约定
int __stdcall add(int a, int b);  // 编译后实际名称为 _add@8
```

_add@8 表示该函数遵循 stdcall 调用约定，并且 @8 表示参数的总字节数（即每个参数 4 字节，两个参数共 8 字节）。

#### 2.3 GCC 和下划线

在 GCC 和其他 UNIX-like 编译器中，通常不会在函数名上添加下划线。但在某些情况下，使用特定的编译选项或属性时，函数名称可能会加上前缀。例如，使用 `__attribute__((cdecl))` 可以使函数名称遵循约定，但通常不涉及下划线。